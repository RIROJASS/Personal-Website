<!DOCTYPE HTML>
<html>
	<head>
		<title>Projects - Raul Rojas</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<link rel="stylesheet" href="assets/css/custom-colors.css" />
		<link rel="stylesheet" href="assets/css/tanker.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
		<style>
			/* Apply Tanker font to all text */
			* {
				font-family: 'Tanker-Regular', Raleway, Helvetica, sans-serif !important;
			}
			
			/* Ensure all text elements use Tanker */
			body, p, li, a, span, div, section, article, header, footer,
			.content, .inner, .major, .special, h1, h2, h3, h4, h5, h6 {
				font-family: 'Tanker-Regular', Raleway, Helvetica, sans-serif !important;
			}
			
			/* Make specific titles orange and same size */
			header .inner h2,  /* Projects main title */
			.inner > h3.major,  /* Section titles */
			section > h3.major  /* Section titles */
			{
				color: #E3572B !important;
				font-size: 2em !important;  /* Standardize size */
			}
			
			/* Make project titles golden */
			section h4.major {
				color: #F9DB50 !important;
				font-size: 1.5em !important;
			}
			
			/* Add more separation before major sections */
			.inner > h3.major,
			section > h3.major {
				margin-top: 3em !important;
				padding-top: 1em;
			}
			
			/* First h3.major doesn't need extra top margin */
			.inner > h3.major:first-child {
				margin-top: 0 !important;
				padding-top: 0;
			}
			
			/* Keep other headings default color */
			.inner h4:not(.major),
			.row h4:not(.major) {
				color: inherit;
			}
			
			/* Remove default borders from box elements */
			.box.alt {
				border: none !important;
			}
			
			/* Styling for individual project sections */
			section > section {
				padding: 2em 0;
				margin: 3em 0;
				position: relative;
			}
			
			/* Add bold lines before and after project title only */
			section > section h4.major {
				padding: 1em 0;
				margin: 1em 0;
				border-top: 2px solid rgba(255, 255, 255, 0.3);
				border-bottom: 2px solid rgba(255, 255, 255, 0.3);
			}
			
			/* Remove top border from first project in each section */
			section > section:first-child h4.major {
				border-top: none;
				margin-top: 0.5em;
			}
			
			/* First project spacing adjustment */
			section > section:first-child {
				margin-top: 1em;
			}
			
			/* Last project spacing adjustment */
			section > section:last-child {
				margin-bottom: 0;
			}
			
			/* Update projects page to match toolkit styling */

			/* Increase font size for body text */
			p, li, .inner p, .content p {
				font-size: 1.2em !important;
			}

			/* Make project titles larger to match toolkit headings */
			section h4.major {
				color: #F9DB50 !important;
				font-size: 2em !important; /* Match the toolkit h4 size */
				margin-top: 1.5em !important;
				margin-bottom: 1em !important;
				font-weight: 700 !important;
				/* Remove borders for cleaner look matching toolkit */
				border-top: none !important;
				border-bottom: none !important;
				padding: 0.5em 0 !important;
			}

			/* Style "Project Highlights" subheadings in golden */
			section > section h4:not(.major) {
				color: #F9DB50 !important;
				font-size: 1.7em !important; /* Match toolkit's .inner h4 size */
				margin-top: 1.5em !important;
				margin-bottom: 0.7em !important;
				font-weight: 700 !important;
			}

			/* Adjust spacing between projects to match toolkit */
			section > section {
				padding: 1em 0;
				margin: 2em 0;
				position: relative;
				/* Optional subtle divider like toolkit uses */
				border-bottom: 1px solid rgba(255, 255, 255, 0.125);
				padding-bottom: 2em;
			}

			/* Last project doesn't need a border */
			section > section:last-child {
				border-bottom: none;
			}

			/* First project spacing adjustment */
			section > section:first-child {
				margin-top: 1em;
				padding-top: 0;
			}

			/* Style links to match amber arrow circles from home page */
			a.special:before {
				width: 1.7em !important; /* Smaller circle */
				height: 1.7em !important;
				line-height: 1.55em !important; /* Adjust line height to center the arrow */
				font-size: 1.15em !important; /* Slightly smaller arrow */
				color: #F19A3E !important; /* New color between golden and orange */
				border-color: #F19A3E !important; /* Match the circle border color */
			}

			a.special:hover:before {
				background-color: rgba(241, 154, 62, 0.1) !important; /* Matching hover effect */
			}

			/* Adjust section headings spacing */
			.inner > h3.major,
			section > h3.major {
				margin-top: 1.5em !important; /* Match toolkit spacing */
				padding-top: 0.5em;
			}

			/* Menu text size increases like on other pages */
			#menu h2 {
				font-size: 2.5em !important; /* Larger menu title */
			}

			#menu .links li a {
				font-size: 1.5em !important; /* Larger menu links */
				padding: 0.9em 0 !important; /* More vertical spacing */
			}

			#menu .inner {
				width: 22em !important; /* Slightly wider menu container */
			}

			/* Style for technologies used sections */
			p:last-of-type:not(:only-of-type) {
				font-style: italic;
				margin-top: 1.5em;
			}
			
			/* Smooth scrolling for anchor links */
			html {
				scroll-behavior: smooth;
			}

			/* Offset for anchor links to account for fixed header */
			:target {
				scroll-margin-top: 5em;
			}
			
			/* Optimize GIF display */
			.gif-container {
				/* Background color while GIF loads */
				background-color: rgba(0, 0, 0, 0.1);
				/* Add minimum height to prevent layout shift */
				min-height: 200px;
				/* Add smooth transition from loading state */
				transition: background-color 0.3s ease;
			}
			
			.gif-container img {
				/* Make sure GIFs maintain aspect ratio */
				object-fit: cover;
				width: 100%;
				height: 100%;
			}
			
			/* Mobile adjustments */
			@media screen and (max-width: 736px) {
				.gif-row .col-6 {
					/* On small screens, add some space between GIFs when they stack */
					margin-bottom: 1em;
				}
			}
		</style>
	</head>
	<body class="is-preload">

		<!-- Page Wrapper -->
			<div id="page-wrapper">

				<!-- Header -->
					<header id="header">
						<h1><a href="index.html">Ra√∫l Rojas</a></h1>
						<nav>
							<a href="#menu">Menu</a>
						</nav>
					</header>

				<!-- Menu -->
					<nav id="menu">
						<div class="inner">
							<h2>Menu</h2>
							<ul class="links">
								<li><a href="index.html">Home</a></li>
								<li><a href="projects.html">Projects</a></li>
								<li><a href="toolkit.html">Toolkit</a></li>
								<li><a href="research.html">Research & Field Work</a></li>
							</ul>
							<a href="#" class="close">Close</a>
						</div>
					</nav>

				<!-- Wrapper -->
					<section id="wrapper">
						<header>
							<div class="inner">
								<h2>Projects</h2>
								<p>Things I've made.</p>
							</div>
						</header>

						<!-- Content -->
							<div class="wrapper">
								<div class="inner">
									
									<!-- Completed Projects Section -->
									<section>
										<h3 class="major" id="completed-projects">Completed Projects</h3>

										<section id="multi-model-ai">
											<h4 class="major">Multi-Model AI Artifact Search</h4>
											<div class="box alt">
												<div class="row gtr-uniform">
													<div class="col-12"><span class="image fit"><img src="images/artifact-classification.jpg" alt="" /></span></div>
												</div>
											</div>
											
											<p>Developed a machine learning system to classify archaeological artifacts from photographic data, integrating computer vision with archaeological expertise.</p>
											
											<h4>Project Highlights:</h4>
											<ul>
												<li>Utilized a dataset of 3,157 artifact images across multiple cultures</li>
												<li>Adjusted a SigLIP embedding model to process a dataset of 3,157 artifact images across multiple cultures</li>
												<li>Utilized a dataset of over 3,157 artifact images across multiple cultures</li>
												<li>Trained a convolutional neural network to identify pottery types, tool materials, and approximate age</li>
												<li>Developed a user-friendly interface for field researchers to use during excavations</li>
												<li>Achieved 87% accuracy on test datasets</li>
											</ul>
											
											<p>Technologies used: Python, TensorFlow, Keras, OpenCV, Flask</p>
											
											<div class="row">
												<div class="col-6 col-12-medium">
													<a href="https://github.com/RIROJASS/SigLIP-image-embedding" class="special" target="_blank">View Project on GitHub</a>
												</div>
												<div class="col-6 col-12-medium">
													<a href="interactive/umap_3d_interactive.html" class="special" target="_blank">View 3D Interactive Visualization</a>
												</div>
											</div>
										</section>

										<section id="self-nudging-dashboard">
											<h4 class="major">Self-Nudging Dashboard</h4>
											<div class="box alt">
												<div class="row gtr-uniform">
													<div class="col-12"><span class="image fit"><img src="images/tepui-large.jpg" alt="" /></span></div>
												</div>
											</div>
											
											<p>A minimalist, accessible, and offline-ready dashboard designed to prime your mind daily with prompts that steer you toward better habits and self-awareness. This lightweight MVP kickstarts a bigger goal: using local tools and personal data to shape behavior through adaptive, intentional nudging.</p>
											
											<h4>Project Highlights:</h4>
											<ul>
												<li>Daily randomized prompts to encourage self-reflection and positive habit formation</li>
												<li>Offline functionality with no backend required for enhanced privacy</li>
												<li>Modular design that's easy to expand with habit tracking and mood logging</li>
												<li>Auto-launch on startup capability for seamless integration into daily routines</li>
											</ul>
											
											<p>Technologies used: HTML, CSS, JavaScript</p>
											
											<a href="https://github.com/RIROJASS/Self-Nudging_Dashboard" class="special" target="_blank">View Project on GitHub</a>
										</section>

										<section id="firearchy">
											<h4 class="major">FIREARCHY (NASA x Blackstone Innovation Challenge)</h4>
											<div class="box alt">
												<div class="row gtr-uniform">
													<div class="col-12"><span class="image fit"><img src="images/nasa-project.jpg" alt="NASA Innovation Challenge" /></span></div>
												</div>
											</div>
											<!-- New side-by-side GIFs section -->
											<div class="box alt">
												<div class="row gtr-uniform gif-row">
													<div class="col-6"><span class="image fit gif-container">
														<img src="images/Charger_Assembly.gif" alt="NASA Project Visualization 1" />
													</span></div>
													<div class="col-6"><span class="image fit gif-container">
														<img src="images/Filter_Assembly.gif" alt="NASA Project Visualization 2" />
													</span></div>
												</div>
											</div>
											
											<p>As part of the NASA x Blackstone Innovation Challenge, I explored applications of NASA's technology for real-world problem-solving, with a focus on archaeological discovery.</p>
											
											<h4>Project Highlights:</h4>
											<ul>
												<li>Researched applications of the Groff Algorithm for pattern recognition in satellite imagery</li>
												<li>Developed a framework for identifying potential archaeological sites using machine learning and remote sensing</li>
												<li>Investigated NASA patents related to sustainability and climate analysis</li>
												<li>Explored triangulation capabilities for location-based pattern recognition</li>
											</ul>
											
											<p>This project represents the intersection of cutting-edge technology and archaeological research, demonstrating how AI can enhance our ability to discover and protect cultural heritage sites through non-invasive means.</p>
											
											<div class="row">
												<div class="col-6 col-12-medium">
													<a href="models/firearchy-3d-model.html" class="special" target="_blank">View 3D Model</a>
												</div>
												<div class="col-6 col-12-medium">
													<a href="docs/firearchy-presentation.pdf" class="special" target="_blank">View Presentation</a>
												</div>
											</div>
										</section>

										<section id="shpe-database">
											<h4 class="major">SHPE National Convention Corporate Database</h4>
											<div class="box alt">
												<div class="resume-container" style="height: 600px; margin-bottom: 20px;">
													<embed src="images/shpe_database_preview.pdf" type="application/pdf" width="100%" height="100%" style="border: 1px solid rgba(255, 255, 255, 0.125); border-radius: 5px;">
												</div>
											</div>
											
											<p>As the Corporate Database Director for the Society of Hispanic Professional Engineers (SHPE), I was 1/5 of the only team in the nation that developed a comprehensive record of all corporate partners attending the 2024 National Convention. It was distrubuted to 35,000 indiviuals: +15,000 National Convention Attendees and 20,000 SHPE members across 42 states.</p>
											
											<p>Equipping my peers with the info they needed to succeed at the 2024 National Conference was satisfying beyond measure, and knowing I helped literal career dreams come true still leaves me speechless. My leadership in SHPE may have led to the pound-for-pound, most powerful resource I've created. It punches far above its weight class and reached the full capacity of a soccer stadium. And let's not forget creative direction, coming up with the art style was a blast!</p>
											
											<p>Technologies used: Photoshop, Adobe Acrobat, Canva, Excel</p>
											
											<a href="https://drive.google.com/file/d/1K6kLTyfQ6NVDjDjIZgmcZpaXWM0wU-Fq/view?usp=sharing" class="special" target="_blank">View Full PDF on Google Drive</a>
										</section>
									</section>

									<!-- In-Progress Projects Section -->
									<section>
										<h3 class="major" id="in-progress-projects">In-Progress Projects</h3>

										<section id="funk-app">
											<h4 class="major">Funk - Community Connection App</h4>
											
											<p>Funk is a social app concept designed to connect university student communities and nightlife scenes in college towns, helping people discover events and social opportunities based on data-driven insights.</p>
											
											<h4>Project Overview:</h4>
											<ul>
												<li>Developing algorithms to determine social "temperature" ‚Äî a metric for engagement within specific scenes</li>
												<li>Creating data pipelines using Google Colab to analyze trends and generate event recommendations</li>
												<li>Building a scalable platform that begins with nightlife communities and expands to university clubs and events</li>
												<li>Leading data scraping, preprocessing, and outreach efforts</li>
											</ul>
											
											<p>This ongoing entrepreneurial project combines my technical skills in data science with my passion for building community connections, creating a platform that uses technology to enhance real-world social experiences.</p>
										</section>
									</section>
								</div>
							</div>
					</section>

				<!-- Footer -->
					<section id="footer">
						<div class="inner">
							<ul class="copyright">
								<li>&copy; Raul Rojas. All rights reserved.</li>
								<li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
							</ul>
						</div>
					</section>

			</div>

		<!-- Dynamic Navigation Component -->
		<div id="dynamic-nav-wrapper">
			<nav id="dynamic-nav" class="collapsed">
				<div class="nav-container">
					<div class="progress-container">
						<div class="progress-bar" id="scroll-progress"></div>
					</div>
					<button id="nav-toggle">
						<span class="nav-icon"></span>
						<span class="nav-label">Navigation</span>
					</button>
					<ul id="nav-links">
						<!-- Links will be dynamically generated here -->
					</ul>
				</div>
			</nav>
		</div>

		<!-- CSS for the dynamic navigation -->
		<style>
			/* Dynamic Navigation Styling */
			#dynamic-nav-wrapper {
				position: absolute;
				left: 0;
				top: 100%; /* Position below the header */
				z-index: 999;
				width: auto;
			}
			
			#dynamic-nav {
				position: fixed;
				top: 3.25em; /* Height of header */
				left: 0;
				z-index: 1000;
				font-family: 'Tanker-Regular', Raleway, Helvetica, sans-serif !important;
				transition: transform 0.3s ease, width 0.3s ease;
				display: flex;
				height: auto;
			}
			
			.nav-container {
				background-color: rgba(32, 75, 56, 0.95); /* Dark green with transparency */
				border-radius: 0 8px 8px 0;
				box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.3);
				overflow: hidden;
				display: flex;
				flex-direction: column;
				position: relative;
				transition: width 0.3s ease;
			}
			
			/* Progress bar styling - vertical */
			.progress-container {
				width: 4px;
				height: 100%;
				background: rgba(255, 255, 255, 0.1);
				position: absolute;
				left: 0;
				top: 0;
				bottom: 0;
				z-index: 2;
			}
			
			.progress-bar {
				width: 100%;
				background: #F9DB50; /* Golden yellow */
				height: 0%;
				transition: height 0.1s ease;
				position: absolute;
				top: 0; /* Start from the top */
				left: 0;
			}
			
			/* Toggle button styling */
			#nav-toggle {
				background-color: #E3572B; /* Orange */
				color: white;
				border: none;
				padding: 10px 15px 10px 20px; /* Extra padding left for progress bar */
				cursor: pointer;
				display: flex;
				align-items: center;
				width: 100%;
				font-family: 'Tanker-Regular', Raleway, Helvetica, sans-serif !important;
				font-size: 1.2em;
				position: relative;
				z-index: 1;
			}
			
			/* Icon animation for toggle */
			.nav-icon {
				display: inline-block;
				width: 20px;
				height: 20px;
				margin-right: 10px;
				position: relative;
			}
			
			.nav-icon:before {
				content: '';
				position: absolute;
				width: 100%;
				height: 2px;
				background-color: #fff;
				top: 6px;
				left: 0;
				box-shadow: 0 6px 0 #fff;
				transition: all 0.3s ease;
			}
			
			.nav-icon:after {
				content: '';
				position: absolute;
				width: 100%;
				height: 2px;
				background-color: #fff;
				bottom: 6px;
				left: 0;
				transition: all 0.3s ease;
			}
			
			/* Collapsed state icon animation */
			#dynamic-nav.collapsed .nav-icon:before {
				transform: rotate(90deg);
				top: 10px;
				box-shadow: none;
			}
			
			#dynamic-nav.collapsed .nav-icon:after {
				transform: rotate(90deg);
				bottom: 8px;
			}
			
			/* Navigation links list */
			#nav-links {
				max-height: 0;
				overflow: hidden;
				transition: max-height 0.5s ease;
				margin: 0;
				padding: 0 0 0 20px; /* Extra left padding for progress bar */
				list-style: none;
				position: relative;
				z-index: 1;
			}
			
			#nav-links.expanded {
				max-height: calc(100vh - 7em); /* Account for header and toggle */
				overflow-y: auto; /* Allow scrolling if many links */
			}
			
			#nav-links li {
				padding: 0;
				margin: 0;
			}
			
			#nav-links a {
				display: block;
				padding: 12px 15px;
				color: white;
				text-decoration: none;
				border-left: 4px solid transparent;
				transition: all 0.3s ease;
				font-size: 1.1em;
				white-space: nowrap; /* Prevent text wrapping */
			}
			
			#nav-links a:hover {
				background-color: rgba(227, 87, 43, 0.3); /* Light orange */
				border-left-color: #F9DB50; /* Golden yellow */
			}
			
			#nav-links a.active {
				background-color: rgba(227, 87, 43, 0.5); /* Darker orange */
				border-left-color: #F9DB50; /* Golden yellow */
				font-weight: bold;
			}
			
			/* Shows submenu items for active sections */
			#nav-links .submenu {
				max-height: 0;
				overflow: hidden;
				transition: max-height 0.5s ease;
				padding-left: 15px;
			}
			
			#nav-links .active + .submenu,
			#nav-links .submenu:hover {
				max-height: 500px;
			}
			
			#nav-links .submenu a {
				padding: 8px 15px;
				font-size: 0.95em;
			}
			
			/* Collapsed state styling */
			#dynamic-nav.collapsed .nav-container {
				width: 40px; /* Narrow when collapsed */
			}
			
			#dynamic-nav.collapsed .nav-label {
				display: none; /* Hide text when collapsed */
			}
			
			#dynamic-nav.collapsed #nav-toggle {
				padding: 10px; /* Smaller padding when collapsed */
				justify-content: center;
			}
			
			#dynamic-nav.collapsed .nav-icon {
				margin-right: 0; /* No margin needed when text is hidden */
			}
			
			/* Hover effect to hint at expandability */
			#dynamic-nav.collapsed:hover .nav-container {
				width: 45px; /* Slightly wider on hover to hint at expandability */
			}
			
			/* Collapsed state for mobile */
			@media screen and (max-width: 736px) {
				#dynamic-nav {
					top: auto;
					bottom: 0;
					width: 100%;
					left: 0;
				}
				
				.nav-container {
					border-radius: 8px 8px 0 0;
					width: 100% !important; /* Override desktop collapsed width */
				}
				
				/* Progress bar becomes horizontal on mobile */
				.progress-container {
					width: 100%;
					height: 4px;
					top: 0;
					left: 0;
					right: 0;
				}
				
				.progress-bar {
					height: 100%;
					width: 0%;
					left: 0;
					right: auto;
				}
				
				#nav-toggle {
					padding: 15px;
					width: 100%;
					justify-content: flex-start;
				}
				
				/* When collapsed, push it off screen except for the toggle button */
				#dynamic-nav.collapsed {
					transform: translateY(calc(100% - 50px));
				}
				
				#dynamic-nav.collapsed .nav-label {
					display: inline; /* Show text on mobile even when collapsed */
				}
				
				#dynamic-nav.collapsed .nav-icon {
					margin-right: 10px; /* Restore margin for mobile */
				}
				
				#nav-links {
					padding-left: 0;
				}
				
				#nav-links a {
					white-space: normal; /* Allow text wrapping on mobile */
				}
			}
		</style>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
			
			<!-- Dynamic Navigation Script -->
			<script>
				document.addEventListener('DOMContentLoaded', function() {
					// Select elements
					const dynamicNav = document.getElementById('dynamic-nav');
					const navToggle = document.getElementById('nav-toggle');
					const navLinks = document.getElementById('nav-links');
					const progressBar = document.getElementById('scroll-progress');
					
					// Function to automatically generate navigation from page structure
					function generateNavigation() {
						// Get all category headers and their sections
						const categories = document.querySelectorAll('section > h3.major');
						const navList = document.getElementById('nav-links');
						
						categories.forEach(category => {
							// Create main category link
							const categoryId = category.id;
							const categoryText = category.textContent;
							const listItem = document.createElement('li');
							const link = document.createElement('a');
							
							link.href = `#${categoryId}`;
							link.textContent = categoryText;
							link.setAttribute('data-section', categoryId);
							listItem.appendChild(link);
							navList.appendChild(listItem);
							
							// Find all projects (h4.major) under this category
							const categorySection = category.closest('section');
							const projects = categorySection.querySelectorAll('section > h4.major');
							
							// Create submenu for projects if needed
							if (projects.length > 0) {
								const submenu = document.createElement('ul');
								submenu.className = 'submenu';
								
								projects.forEach(project => {
									const projectSection = project.closest('section');
									const projectId = projectSection.id;
									const projectTitle = project.textContent;
									
									const subItem = document.createElement('li');
									const subLink = document.createElement('a');
									subLink.href = `#${projectId}`;
									subLink.textContent = projectTitle;
									subLink.setAttribute('data-section', projectId);
									subItem.appendChild(subLink);
									submenu.appendChild(subItem);
								});
								
								navList.appendChild(submenu);
							}
						});
					}
					
					// Toggle navigation expansion
					navToggle.addEventListener('click', function() {
						dynamicNav.classList.toggle('collapsed');
						if (!dynamicNav.classList.contains('collapsed')) {
							navLinks.classList.add('expanded');
						} else {
							navLinks.classList.remove('expanded');
						}
					});
					
					// Handle scroll events
					window.addEventListener('scroll', function() {
						// Update progress bar - now vertical for desktop, horizontal for mobile
						const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
						const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
						const scrolled = (winScroll / height) * 100;
						
						if (window.innerWidth <= 736) {
							// Horizontal progress for mobile
							progressBar.style.width = scrolled + '%';
							progressBar.style.height = '100%';
						} else {
							// Vertical progress for desktop - FROM TOP TO BOTTOM
							progressBar.style.height = scrolled + '%';
							progressBar.style.width = '100%';
						}
						
						// Highlight current section
						const scrollPosition = window.scrollY;
						
						// Get all section elements
						const sections = document.querySelectorAll('section > h3.major, section > section');
						
						// Find which section is currently in view
						let currentSection = null;
						
						sections.forEach(section => {
							const sectionTop = section.getBoundingClientRect().top + window.scrollY - 100;
							if (scrollPosition >= sectionTop) {
								currentSection = section.id;
								if (!currentSection && section.querySelector('h3.major')) {
									currentSection = section.querySelector('h3.major').id;
								} else if (!currentSection && section.querySelector('h4.major')) {
									currentSection = section.id;
								}
							}
						});
						
						// Update active class on navigation links
						if (currentSection) {
							document.querySelectorAll('#nav-links a').forEach(link => {
								link.classList.remove('active');
								if (link.getAttribute('data-section') === currentSection) {
									link.classList.add('active');
								}
							});
						}
						
						// Auto-collapse nav on mobile when scrolling down
						if (window.innerWidth <= 736) {
							const isScrollingDown = this.oldScroll < winScroll;
							this.oldScroll = winScroll;
							
							if (isScrollingDown && !navToggle.contains(document.activeElement)) {
								dynamicNav.classList.add('collapsed');
								navLinks.classList.remove('expanded');
							}
						}
					});
					
					// Smooth scrolling for navigation links
					document.addEventListener('click', function(e) {
						if (e.target.tagName === 'A' && e.target.hash && e.target.hash.startsWith('#')) {
							const targetElement = document.querySelector(e.target.hash);
							if (targetElement) {
								e.preventDefault();
								
								// Calculate offset (account for sticky header if any)
								const offset = 80;
								const targetPosition = targetElement.getBoundingClientRect().top + window.scrollY - offset;
								
								// Scroll smoothly
								window.scrollTo({
									top: targetPosition,
									behavior: 'smooth'
								});
								
								// Update URL hash without scrolling
								history.pushState(null, null, e.target.hash);
								
								// Collapse the navigation after clicking a link
								setTimeout(() => {
									if (window.innerWidth > 736) {
										// On desktop, collapse after a delay
										dynamicNav.classList.add('collapsed');
										navLinks.classList.remove('expanded');
									} else {
										// On mobile, collapse immediately
										dynamicNav.classList.add('collapsed');
										navLinks.classList.remove('expanded');
									}
								}, 300);
							}
						}
					});
					
					// Handle window resize
					window.addEventListener('resize', function() {
						// Reset progress bar orientation
						const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
						const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
						const scrolled = (winScroll / height) * 100;
						
						if (window.innerWidth <= 736) {
							progressBar.style.width = scrolled + '%';
							progressBar.style.height = '100%';
						} else {
							progressBar.style.height = scrolled + '%';
							progressBar.style.width = '100%';
						}
					});
					
					// Initialize navigation
					generateNavigation();
					
					// Set initial collapsed state
					dynamicNav.classList.add('collapsed');
					navLinks.classList.remove('expanded');
					
					// Trigger initial scroll event to set progress bar
					window.dispatchEvent(new Event('scroll'));
				});
			</script>

	</body>
</html>
