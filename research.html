<!-- Implementation code for adding the images to the existing AI-Enhanced Remote Sensing section -->

<div class="box alt">
    <div class="row gtr-uniform">
        <!-- Left side - Slideshow of PNG images -->
        <div class="col-7">
            <h4 class="image-title" id="current-slide-title">raised_fields_auto_id_v1.png</h4>
            <div class="slideshow-container research-slides">
                <div class="mySlides research-slide fade">
                    <img src="images/raised_fields_auto_id_v1.png" alt="AI auto-identification of raised fields" style="width:100%">
                    <div class="slide-caption">Automated identification of potential raised field sites</div>
                </div>

                <div class="mySlides research-slide fade">
                    <img src="images/rasied_fields_results_v1.png" alt="Results of AI analysis v1" style="width:100%">
                    <div class="slide-caption">Result visualization from initial model</div>
                </div>

                <div class="mySlides research-slide fade">
                    <img src="images/rasied_fields_results_v2.png" alt="Results of AI analysis v2" style="width:100%">
                    <div class="slide-caption">Improved results after model refinement</div>
                </div>

                <a class="prev" onclick="plusResearchSlides(-1)">&#10094;</a>
                <a class="next" onclick="plusResearchSlides(1)">&#10095;</a>
            </div>
            <br>

            <div style="text-align:center">
                <span class="dot research-dot" onclick="currentResearchSlide(1)" data-title="raised_fields_auto_id_v1.png"></span>
                <span class="dot research-dot" onclick="currentResearchSlide(2)" data-title="rasied_fields_results_v1.png"></span>
                <span class="dot research-dot" onclick="currentResearchSlide(3)" data-title="rasied_fields_results_v2.png"></span>
            </div>
        </div>
        
        <!-- Right side - GIF with title -->
        <div class="col-5">
            <h4 class="image-title">raised_field_deep_learning_process.gif</h4>
            <div class="image fit">
                <img src="images/raised_field_deep_learning_process.gif" alt="Deep learning process animation" style="width:100%">
                <div class="caption">Animation of the deep learning detection process</div>
            </div>
        </div>
    </div>
</div>

<!-- Additional CSS for the image layout -->
<style>
    /* Image titles */
    h4.image-title {
        color: #F9DB50 !important;
        font-size: 1.2em !important;
        margin-top: 0 !important;
        margin-bottom: 0.5em !important;
        font-family: 'Tanker-Regular', Raleway, sans-serif !important;
        text-align: center;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }
    
    /* Caption styling */
    .slide-caption, .caption {
        text-align: center;
        font-size: 0.9em;
        font-style: italic;
        padding: 0.5em 0;
        color: rgba(255, 255, 255, 0.7);
    }
    
    /* Research slideshow specific styles */
    .research-slides {
        max-width: 100%;
        position: relative;
        margin: auto;
    }
    
    .research-slide {
        display: none;
        background-color: #222;
        border-radius: 5px;
        overflow: hidden;
    }
    
    /* Ensure GIF container matches slideshow height */
    .col-5 .image.fit {
        height: 100%;
        display: flex;
        flex-direction: column;
        background-color: #222;
        border-radius: 5px;
        overflow: hidden;
    }
    
    .col-5 .image.fit img {
        flex: 1;
        object-fit: contain;
        max-height: 80%;
    }
    
    /* Special mobile adjustments */
    @media screen and (max-width: 736px) {
        .col-7, .col-5 {
            width: 100%;
            margin-bottom: 2em;
        }
    }
</style>

<!-- JavaScript for the research slideshow -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Initialize variables for research slideshow
    let researchSlideIndex = 1;
    let researchSlideInterval;
    
    // Show the initial slide
    showResearchSlides(researchSlideIndex);
    startResearchSlideshow();
    
    // Make these functions globally available
    window.plusResearchSlides = function(n) {
        showResearchSlides(researchSlideIndex += n);
    };
    
    window.currentResearchSlide = function(n) {
        showResearchSlides(researchSlideIndex = n);
    };
    
    // Auto-advance slides
    function startResearchSlideshow() {
        clearInterval(researchSlideInterval);
        researchSlideInterval = setInterval(function() {
            plusResearchSlides(1);
        }, 5000); // Change slide every 5 seconds
    }
    
    // Main slideshow function
    function showResearchSlides(n) {
        let i;
        let slides = document.getElementsByClassName("research-slide");
        let dots = document.getElementsByClassName("research-dot");
        let titleElement = document.getElementById("current-slide-title");
        
        if (n > slides.length) {researchSlideIndex = 1}
        if (n < 1) {researchSlideIndex = slides.length}
        
        // Hide all slides
        for (i = 0; i < slides.length; i++) {
            slides[i].style.display = "none";
        }
        
        // Remove active class from dots
        for (i = 0; i < dots.length; i++) {
            dots[i].className = dots[i].className.replace(" active", "");
        }
        
        // Show current slide and activate dot
        slides[researchSlideIndex-1].style.display = "block";
        dots[researchSlideIndex-1].className += " active";
        
        // Update the title
        if (titleElement && dots[researchSlideIndex-1].dataset.title) {
            titleElement.textContent = dots[researchSlideIndex-1].dataset.title;
        }
    }
    
    // Pause slideshow on hover
    const researchSlideshowContainer = document.querySelector('.research-slides');
    if (researchSlideshowContainer) {
        researchSlideshowContainer.addEventListener('mouseenter', function() {
            clearInterval(researchSlideInterval);
        });
        
        researchSlideshowContainer.addEventListener('mouseleave', function() {
            startResearchSlideshow();
        });
    }
});
</script>
